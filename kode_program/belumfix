#include <stdio.h>
#include <math.h>
#include <stdlib.h>

int main()
{
    namaProgram();
    namaKelompok();
    menuUtama();
    return 0;
}

void namaProgram()
{
    printf("|| ================================================== ||\n");
    printf("||               Program PDAM Blangkon                ||\n");
    printf("|| ================================================== ||\n");
    printf("Tekan Enter untuk melanjutkan program!");
    scanf("%[^\n]", &enter);
    system("clear");
}

void namaKelompok()
{
    printf("|| ================================================== ||\n");
    printf("||                  Anggota Kelompok                  ||\n");
    printf("|| ================================================== ||\n");
    printf("||                                                    ||\n");
    printf("|| - 2205551067 I Putu Liangga Ristiana Putra         ||\n");
    printf("||                                                    ||\n");
    printf("|| - 2205551071 I Gusti Ngurah Putu Astrawan          ||\n");
    printf("||                                                    ||\n");
    printf("|| ================================================== ||\n\n");
    char enter[2];
    printf("Tekan Enter untuk melanjutkan program!");
    scanf("%[^\n]", &enter);
    system("clear");
}

void menuUtama()
{
    int menu;
    printf("|| ==================================================== ||\n");
    printf("||                Menu Kelompok Pelanggan               ||\n");
    printf("|| ==================================================== ||\n");
    printf("|| 1. Non Niaga Bersubsidi                              ||\n");
    printf("|| 2. Non Niaga Tanpa Bersubsidi                        ||\n");
    printf("|| 3. Niaga                                             ||\n");
    printf("|| ==================================================== ||\n");
    printf("\n");
    printf("Pilihan Anda: ");
    scanf("%d", &menu);
    system("clear");

    switch (menu)
    {
    case 1:
        nonNiagaBersubsidi();
        break;
    case 2:
        nonNiagaTanpaBersubsidi();
        break;
    case 3:
        niaga();
        break;
    default:
        printf("Maaf, input Anda salah. Silahkan ulangi!\n");
        menuUtama();
        break;
    }
}

void nonNiagaBersubsidi()
{
    int menu;
    printf("|| ==================================================== ||\n");
    printf("||                  Kelompok Pelanggan                  ||\n");
    printf("|| ==================================================== ||\n");
    printf("|| 1. Rumah Tangga A1                                   ||\n");
    printf("|| 2. Rumah Tangga A2                                   ||\n");
    printf("|| 3. Rumah Tangga A3                                   ||\n");
    printf("|| 4. Rumah Tangga A4                                   ||\n");
    printf("|| ==================================================== ||\n");
    printf("\n");
    printf("Pilihan Anda: ");
    scanf("%d", &menu);
    system("clear");

    switch (menu)
    {
    case 1:
        nnbA1();
        break;
    case 2:
        nnbA2();
        break;
    case 3:
        nnbA3();
        break;
    case 4:
        nnbA4();
    default:
        printf("Maaf, input Anda salah. Silahkan ulangi!\n");
        nonNiagaBersubsidi();
        break;
    }
}
void nonNiagaTanpaBersubsidi()
{
    int menu;
    printf("|| ==================================================== ||\n");
    printf("||                      Menu Jenis                      ||\n");
    printf("|| ==================================================== ||\n");
    printf("|| 1. Rumah Tangga A1                                   ||\n");
    printf("|| 2. Rumah Tangga A2                                   ||\n");
    printf("|| 3. Rumah Tangga A3                                   ||\n");
    printf("|| 4. Rumah Tangga A4                                   ||\n");
    printf("|| 5. Rumah Tangga B                                    ||\n");
    printf("|| ==================================================== ||\n");
    printf("\n");
    printf("Pilihan Anda: ");
    scanf("%d", &menu);
    system("clear");

    switch (menu)
    {
    case 1:
        rtA1();
        break;
    case 2:
        bola();
        break;
    case 3:
        limasSegiempat();
        break;
    case 4:
        menuPilihanKelompok1_1();
    case 5:
        rtB();
    default:
        printf("Maaf, input Anda salah. Silahkan ulangi!\n");
        nonNiagaTanpaBersubsidi();
        break;
    }
}
void niaga()
{
    int menu;
    printf("|| ==================================================== ||\n");
    printf("||                      Menu Jenis                      ||\n");
    printf("|| ==================================================== ||\n");
    printf("|| 1. Niaga Kecil                                       ||\n");
    printf("|| 2. Niaga Sedang                                      ||\n");
    printf("|| 3. Niaga Besar                                       ||\n");
    printf("|| ==================================================== ||\n");
    printf("\n");
    printf("Pilihan Anda: ");
    scanf("%d", &menu);
    system("clear");

    switch (menu)
    {
    case 1:
        zz();
        break;
    case 2:
        bola();
        break;
    case 3:
        limasSegiempat();
        break;
    default:
        printf("Maaf, input Anda salah. Silahkan ulangi!\n");
        niaga();
        break;
    }
}

int nnbA1()
{
    int menu;
    int pakaiAir, biaya;
    printf("|| ==================================================== ||\n");
    printf("||                     Menu Golongan                    ||\n");
    printf("|| ==================================================== ||\n");
    printf("|| 1. D1 - 1                                            ||\n");
    printf("|| 2. D1 - 2                                            ||\n");
    printf("|| ==================================================== ||\n");
    printf("\n");
    printf("  Pilihan Anda :");
    scanf("%d", &menu);
    system("clear");
    switch (menu)
    {
    case 1:
        totalBiayaD11();
        break;
    case 2:
        totalBiayaD12();
        break;
    default:
        printf("Maaf Input anda salah !");
        nnbA1();
    }
    cobaLagi();
}

int totalBiayaD11()
{
    int pakaiAir, biaya;
    pakaiAir = pemakaianAir();
    if (pakaiAir <= 10)
    {
        biaya = 1780 * pakaiAir;
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 10 && pakaiAir <= 20)
    {
        biaya = 17800 + ((pakaiAir - 10) * 2060);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 20)
    {
        biaya = 38400 + ((pakaiAir - 20) * 5880);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else
    {
        printf("Maaf Input anda salah !");
        totalBiayaD11();
    }
}

int totalBiayaD12()
{
    int pakaiAir, biaya;
    pakaiAir = pemakaianAir();
    if (pakaiAir <= 10)
    {
        biaya = 2060 * pakaiAir;
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 10 && pakaiAir <= 20)
    {
        biaya = 20600 + ((pakaiAir - 10) * 2340);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 20)
    {
        biaya = 44000 + ((pakaiAir - 20) * 5940);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else
    {
        printf("Maaf Input anda salah !");
        totalBiayaD12();
    }
}

int nnbA2()
{
    int menu;
    int pakaiAir, biaya;
    printf("|| ==================================================== ||\n");
    printf("||                     Menu Golongan                    ||\n");
    printf("|| ==================================================== ||\n");
    printf("|| 1. D2 - 1                                            ||\n");
    printf("|| 2. D2 - 2                                            ||\n");
    printf("|| ==================================================== ||\n");
    printf("\n");
    printf("  Pilihan Anda :");
    scanf("%d", &menu);
    system("clear");
    switch (menu)
    {
    case 1:
        totalBiayaD21();
        break;
    case 2:
        totalBiayaD22();
        break;
    default:
        printf("Maaf Input anda salah !");
        nnbA2();
    }
    cobaLagi();
}

int totalBiayaD21()
{
    int pakaiAir, biaya;
    pakaiAir = pemakaianAir();
    if (pakaiAir <= 10)
    {
        biaya = 2340 * pakaiAir;
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 10 && pakaiAir <= 20)
    {
        biaya = 23400 + ((pakaiAir - 10) * 2620);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 20)
    {
        biaya = 49600 + ((pakaiAir - 20) * 6000);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else
    {
        printf("Maaf Input anda salah !");
        totalBiayaD21();
    }
}

int totalBiayaD22()
{
    int pakaiAir, biaya;
    pakaiAir = pemakaianAir();
    if (pakaiAir <= 10)
    {
        biaya = 2620 * pakaiAir;
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 10 && pakaiAir <= 20)
    {
        biaya = 26200 + ((pakaiAir - 10) * 2900);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 20)
    {
        biaya = 55200 + ((pakaiAir - 20) * 6060);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else
    {
        printf("Maaf Input anda salah !");
        totalBiayaD22();
    }
}

int nnbA3()
{
    int menu;
    int pakaiAir, biaya;
    printf("|| ==================================================== ||\n");
    printf("||                     Menu Golongan                    ||\n");
    printf("|| ==================================================== ||\n");
    printf("|| 1. D3 - 1                                            ||\n");
    printf("|| 2. D3 - 2                                            ||\n");
    printf("|| ==================================================== ||\n");
    printf("\n");
    printf("  Pilihan Anda :");
    scanf("%d", &menu);
    system("clear");
    switch (menu)
    {
    case 1:
        totalBiayaD31();
        break;
    case 2:
        totalBiayaD32();
        break;
    default:
        printf("Maaf Input anda salah !");
        nnbA2();
    }
    cobaLagi();
}

int totalBiayaD31()
{
    int pakaiAir, biaya;
    pakaiAir = pemakaianAir();
    if (pakaiAir <= 10)
    {
        biaya = 2900 * pakaiAir;
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 10 && pakaiAir <= 20)
    {
        biaya = 29000 + ((pakaiAir - 10) * 3180);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 20)
    {
        biaya = 60800 + ((pakaiAir - 20) * 6120);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else
    {
        printf("Maaf Input anda salah !");
        totalBiayaD31();
    }
}

int totalBiayaD32()
{
    int pakaiAir, biaya;
    pakaiAir = pemakaianAir();
    if (pakaiAir <= 10)
    {
        biaya = 3180 * pakaiAir;
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 10 && pakaiAir <= 20)
    {
        biaya = 31800 + ((pakaiAir - 10) * 3460);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 20)
    {
        biaya = 66400 + ((pakaiAir - 20) * 6180);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else
    {
        printf("Maaf Input anda salah !");
        totalBiayaD22();
    }
}

int nnbA4()
{
    int menu;
    int pakaiAir, biaya;
    printf("|| ==================================================== ||\n");
    printf("||                     Menu Golongan                    ||\n");
    printf("|| ==================================================== ||\n");
    printf("|| 1. D4 - 1                                            ||\n");
    printf("|| 2. D4 - 2                                            ||\n");
    printf("|| ==================================================== ||\n");
    printf("\n");
    printf("  Pilihan Anda :");
    scanf("%d", &menu);
    system("clear");
    switch (menu)
    {
    case 1:
        totalBiayaD41();
        break;
    case 2:
        totalBiayaD42();
        break;
    default:
        printf("Maaf Input anda salah !");
        nnbA4();
    }
    cobaLagi();
}

int totalBiayaD41()
{
    int pakaiAir, biaya;
    pakaiAir = pemakaianAir();
    if (pakaiAir <= 10)
    {
        biaya = 3460 * pakaiAir;
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 10 && pakaiAir <= 20)
    {
        biaya = 34600 + ((pakaiAir - 10) * 3740);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 20)
    {
        biaya = 72000 + ((pakaiAir - 20) * 6240);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else
    {
        printf("Maaf Input anda salah !");
        totalBiayaD41();
    }
}

int totalBiayaD42()
{
    int pakaiAir, biaya;
    pakaiAir = pemakaianAir();
    if (pakaiAir <= 10)
    {
        biaya = 3740 * pakaiAir;
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 10 && pakaiAir <= 20)
    {
        biaya = 37400 + ((pakaiAir - 10) * 4020);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else if (pakaiAir > 20)
    {
        biaya = 77600 + ((pakaiAir - 20) * 6300);
        printf("Total biaya air anda adalah : Rp. %d", biaya);
    }
    else
    {
        printf("Maaf Input anda salah !");
        totalBiayaD42();
    }
}

int pemakaianAir()
{
    float pakaiAir, bulanIni, bulanLalu;
    printf("|| ================================================== ||\n");
    printf("||                   Pemakaian Air                    ||\n");
    printf("|| ================================================== ||\n");
    printf("  Masukkan pemakaian bulan lalu (M^3) : ");
    scanf("%f", &bulanLalu);
    printf("  Masukkan pemakaian bulan ini (M^3)  : ");
    scanf("%f", &bulanIni);
    pakaiAir = bulanIni - bulanLalu;
    system("clear");
    return pakaiAir;
}

int cobaLagi()
{
    int pilihanUtama;
    printf("||================================================||\n");
    printf("|| Apakah Anda ingin menjalankan program kembali? ||\n");
    printf("||================================================||\n");
    printf("|| 1. Iya                                         ||\n");
    printf("|| 2. Tidak                                       ||\n");
    printf("||================================================||\n");
    printf("\nPilihan Anda: ");
    scanf("%d", &pilihanUtama);
    switch (pilihanUtama)
    {
    case 1:
        system("clear");
        menuUtama();
    case 2:
        system("clear");
        break;
    default:
        printf("\nMaaf, input Anda salah. Silahkan ulangi!\n");
        cobaLagi();
    }
}
